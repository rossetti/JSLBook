<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.2 Random Package | JSL - Java Simulation Library</title>
  <meta name="description" content="A book that illustrates the basics of using the JSL. The output format for this book is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="2.2 Random Package | JSL - Java Simulation Library" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A book that illustrates the basics of using the JSL. The output format for this book is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.2 Random Package | JSL - Java Simulation Library" />
  
  <meta name="twitter:description" content="A book that illustrates the basics of using the JSL. The output format for this book is bookdown::gitbook." />
  

<meta name="author" content="Manuel D. Rossetti" />


<meta name="date" content="2022-07-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ch2-generator.html"/>
<link rel="next" href="ch2-FAQ.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Simulation Modeling using the Java Simulation Library</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="ch1.html"><a href="ch1.html"><i class="fa fa-check"></i><b>1</b> Simulation Modeling</a>
<ul>
<li class="chapter" data-level="1.1" data-path="simulation-modeling.html"><a href="simulation-modeling.html"><i class="fa fa-check"></i><b>1.1</b> Simulation Modeling</a></li>
<li class="chapter" data-level="1.2" data-path="why-simulate.html"><a href="why-simulate.html"><i class="fa fa-check"></i><b>1.2</b> Why Simulate?</a></li>
<li class="chapter" data-level="1.3" data-path="types-of-systems-and-simulation-models.html"><a href="types-of-systems-and-simulation-models.html"><i class="fa fa-check"></i><b>1.3</b> Types of Systems and Simulation Models</a></li>
<li class="chapter" data-level="1.4" data-path="simulation-descriptive-or-prescriptive-modeling.html"><a href="simulation-descriptive-or-prescriptive-modeling.html"><i class="fa fa-check"></i><b>1.4</b> Simulation: Descriptive or Prescriptive Modeling?</a></li>
<li class="chapter" data-level="1.5" data-path="randomness-in-simulation.html"><a href="randomness-in-simulation.html"><i class="fa fa-check"></i><b>1.5</b> Randomness in Simulation</a></li>
<li class="chapter" data-level="1.6" data-path="simulation-languages.html"><a href="simulation-languages.html"><i class="fa fa-check"></i><b>1.6</b> Simulation Languages</a></li>
<li class="chapter" data-level="1.7" data-path="ch1-sec-simMeth.html"><a href="ch1-sec-simMeth.html"><i class="fa fa-check"></i><b>1.7</b> Simulation Methodology</a></li>
<li class="chapter" data-level="1.8" data-path="overview-of-the-java-simulation-library.html"><a href="overview-of-the-java-simulation-library.html"><i class="fa fa-check"></i><b>1.8</b> Overview of the Java Simulation Library</a></li>
<li class="chapter" data-level="1.9" data-path="exercises.html"><a href="exercises.html"><i class="fa fa-check"></i><b>1.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="ch2-rng.html"><a href="ch2-rng.html"><i class="fa fa-check"></i><b>2</b> Random Number Generation</a>
<ul>
<li class="chapter" data-level="2.1" data-path="ch2-generator.html"><a href="ch2-generator.html"><i class="fa fa-check"></i><b>2.1</b> Random Number Generator</a></li>
<li class="chapter" data-level="2.2" data-path="ch2-randompkg.html"><a href="ch2-randompkg.html"><i class="fa fa-check"></i><b>2.2</b> Random Package</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="ch2-randompkg.html"><a href="ch2-randompkg.html#ch2:creatingStreams"><i class="fa fa-check"></i><b>2.2.1</b> Creating and Using Streams</a></li>
<li class="chapter" data-level="2.2.2" data-path="ch2-randompkg.html"><a href="ch2-randompkg.html#ch2:crn"><i class="fa fa-check"></i><b>2.2.2</b> Common Random Numbers</a></li>
<li class="chapter" data-level="2.2.3" data-path="ch2-randompkg.html"><a href="ch2-randompkg.html#ch2:antitheticStreams"><i class="fa fa-check"></i><b>2.2.3</b> Creating and Using Antithetic Streams</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="ch2-FAQ.html"><a href="ch2-FAQ.html"><i class="fa fa-check"></i><b>2.3</b> Frequently Asked Questions</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="random-variate-generation-and-probability-modeling.html"><a href="random-variate-generation-and-probability-modeling.html"><i class="fa fa-check"></i><b>3</b> Random Variate Generation and Probability Modeling</a>
<ul>
<li class="chapter" data-level="3.1" data-path="continuous-and-discrete-random-variables.html"><a href="continuous-and-discrete-random-variables.html"><i class="fa fa-check"></i><b>3.1</b> Continuous and Discrete Random Variables</a></li>
<li class="chapter" data-level="3.2" data-path="overview-of-generation-algorithms.html"><a href="overview-of-generation-algorithms.html"><i class="fa fa-check"></i><b>3.2</b> Overview of Generation Algorithms</a></li>
<li class="chapter" data-level="3.3" data-path="creating-and-using-random-variables.html"><a href="creating-and-using-random-variables.html"><i class="fa fa-check"></i><b>3.3</b> Creating and Using Random Variables</a></li>
<li class="chapter" data-level="3.4" data-path="modeling-probability-distributions.html"><a href="modeling-probability-distributions.html"><i class="fa fa-check"></i><b>3.4</b> Modeling Probability Distributions</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>4</b> Collecting Statistics</a>
<ul>
<li class="chapter" data-level="4.1" data-path="creating-and-using-a-statistic.html"><a href="creating-and-using-a-statistic.html"><i class="fa fa-check"></i><b>4.1</b> Creating and Using a Statistic</a></li>
<li class="chapter" data-level="4.2" data-path="histograms-and-frequencies.html"><a href="histograms-and-frequencies.html"><i class="fa fa-check"></i><b>4.2</b> Histograms and Frequencies</a></li>
<li class="chapter" data-level="4.3" data-path="batch-statistics.html"><a href="batch-statistics.html"><i class="fa fa-check"></i><b>4.3</b> Batch Statistics</a></li>
<li class="chapter" data-level="4.4" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i><b>4.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="mcm.html"><a href="mcm.html"><i class="fa fa-check"></i><b>5</b> Monte Carlo Methods</a>
<ul>
<li class="chapter" data-level="5.1" data-path="ssMC.html"><a href="ssMC.html"><i class="fa fa-check"></i><b>5.1</b> Simple Monte Carlo Integration</a></li>
<li class="chapter" data-level="5.2" data-path="ch5-StatReview.html"><a href="ch5-StatReview.html"><i class="fa fa-check"></i><b>5.2</b> Review of Statistical Concepts</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="ch5-StatReview.html"><a href="ch5-StatReview.html#point-estimates-and-confidence-intervals"><i class="fa fa-check"></i><b>5.2.1</b> Point Estimates and Confidence Intervals</a></li>
<li class="chapter" data-level="5.2.2" data-path="ch5-StatReview.html"><a href="ch5-StatReview.html#ch5:SampleSize"><i class="fa fa-check"></i><b>5.2.2</b> Sample Size Determination</a></li>
<li class="chapter" data-level="5.2.3" data-path="ch5-StatReview.html"><a href="ch5-StatReview.html#determining-the-sample-size-for-a-monte-carlo-simulation-experiment"><i class="fa fa-check"></i><b>5.2.3</b> Determining the Sample Size for a Monte Carlo Simulation Experiment</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="craps.html"><a href="craps.html"><i class="fa fa-check"></i><b>5.3</b> Simulating the Game of Craps</a></li>
<li class="chapter" data-level="5.4" data-path="the-news-vendor-problem.html"><a href="the-news-vendor-problem.html"><i class="fa fa-check"></i><b>5.4</b> The News Vendor Problem</a></li>
<li class="chapter" data-level="5.5" data-path="summary-1.html"><a href="summary-1.html"><i class="fa fa-check"></i><b>5.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="introDEDS.html"><a href="introDEDS.html"><i class="fa fa-check"></i><b>6</b> Introduction to Discrete Event Modeling</a>
<ul>
<li class="chapter" data-level="6.1" data-path="introDEDS-Intro.html"><a href="introDEDS-Intro.html"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="introDEDS-deds.html"><a href="introDEDS-deds.html"><i class="fa fa-check"></i><b>6.2</b> Discrete-Event Dynamic Systems</a></li>
<li class="chapter" data-level="6.3" data-path="HowDEDSClockWorks.html"><a href="HowDEDSClockWorks.html"><i class="fa fa-check"></i><b>6.3</b> How the Discrete-Event Clock Works</a></li>
<li class="chapter" data-level="6.4" data-path="QHandExample.html"><a href="QHandExample.html"><i class="fa fa-check"></i><b>6.4</b> Simulating a Queueing System By Hand</a></li>
<li class="chapter" data-level="6.5" data-path="introDEDS-dedsJSL.html"><a href="introDEDS-dedsJSL.html"><i class="fa fa-check"></i><b>6.5</b> Modeling DEDS in the JSL</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="introDEDS-dedsJSL.html"><a href="introDEDS-dedsJSL.html#event-scheduling"><i class="fa fa-check"></i><b>6.5.1</b> Event Scheduling</a></li>
<li class="chapter" data-level="6.5.2" data-path="introDEDS-dedsJSL.html"><a href="introDEDS-dedsJSL.html#introDEDS:schedExamples"><i class="fa fa-check"></i><b>6.5.2</b> Simple Event Scheduling Examples</a></li>
<li class="chapter" data-level="6.5.3" data-path="introDEDS-dedsJSL.html"><a href="introDEDS-dedsJSL.html#introDEDS:updown"><i class="fa fa-check"></i><b>6.5.3</b> Up and Down Component Example</a></li>
<li class="chapter" data-level="6.5.4" data-path="introDEDS-dedsJSL.html"><a href="introDEDS-dedsJSL.html#introDEDS:pharmacy"><i class="fa fa-check"></i><b>6.5.4</b> Modeling a Simple Queueing System</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="introDEDS-Summary.html"><a href="introDEDS-Summary.html"><i class="fa fa-check"></i><b>6.6</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="dem.html"><a href="dem.html"><i class="fa fa-check"></i><b>7</b> Modeling with Queues, Resources, and Stations</a>
<ul>
<li class="chapter" data-level="7.1" data-path="terminology-of-simulation-modeling.html"><a href="terminology-of-simulation-modeling.html"><i class="fa fa-check"></i><b>7.1</b> Terminology of Simulation Modeling</a></li>
<li class="chapter" data-level="7.2" data-path="dem-entities.html"><a href="dem-entities.html"><i class="fa fa-check"></i><b>7.2</b> Entities and Attributes</a></li>
<li class="chapter" data-level="7.3" data-path="dem-eg.html"><a href="dem-eg.html"><i class="fa fa-check"></i><b>7.3</b> Event Generators</a></li>
<li class="chapter" data-level="7.4" data-path="dem-station.html"><a href="dem-station.html"><i class="fa fa-check"></i><b>7.4</b> The Station Package</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="dem-station.html"><a href="dem-station.html#modeling-simple-queueing-stations"><i class="fa fa-check"></i><b>7.4.1</b> Modeling Simple Queueing Stations</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="dem-sharedResources.html"><a href="dem-sharedResources.html"><i class="fa fa-check"></i><b>7.5</b> Sharing a Resource</a></li>
<li class="chapter" data-level="7.6" data-path="dem-tiedyeShirts.html"><a href="dem-tiedyeShirts.html"><i class="fa fa-check"></i><b>7.6</b> Complex System Example</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="dem-tiedyeShirts.html"><a href="dem-tiedyeShirts.html#dem:tiedyeShirts:cm"><i class="fa fa-check"></i><b>7.6.1</b> Conceptualizing the Model</a></li>
<li class="chapter" data-level="7.6.2" data-path="dem-tiedyeShirts.html"><a href="dem-tiedyeShirts.html#dem:tiedyeShirts:im"><i class="fa fa-check"></i><b>7.6.2</b> Implementing the Model</a></li>
<li class="chapter" data-level="7.6.3" data-path="dem-tiedyeShirts.html"><a href="dem-tiedyeShirts.html#dem:tiedyeShirts:results"><i class="fa fa-check"></i><b>7.6.3</b> Model Results</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="dem-summary.html"><a href="dem-summary.html"><i class="fa fa-check"></i><b>7.7</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="simoa.html"><a href="simoa.html"><i class="fa fa-check"></i><b>8</b> Analyzing Simulation Output</a>
<ul>
<li class="chapter" data-level="8.1" data-path="simoa-datatypes.html"><a href="simoa-datatypes.html"><i class="fa fa-check"></i><b>8.1</b> Types of Statistical Variables</a></li>
<li class="chapter" data-level="8.2" data-path="simoa-simtypes.html"><a href="simoa-simtypes.html"><i class="fa fa-check"></i><b>8.2</b> Types of Simulation With Respect To Output Analysis</a></li>
<li class="chapter" data-level="8.3" data-path="simoa-finhorizon.html"><a href="simoa-finhorizon.html"><i class="fa fa-check"></i><b>8.3</b> Analysis of Finite Horizon Simulations</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="simoa-finhorizon.html"><a href="simoa-finhorizon.html#simoa:finhorizon:samplesize"><i class="fa fa-check"></i><b>8.3.1</b> Determining the Number of Replications</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="simoa-finhorizonex.html"><a href="simoa-finhorizonex.html"><i class="fa fa-check"></i><b>8.4</b> Finite Horizon Example</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="simoa-finhorizonex.html"><a href="simoa-finhorizonex.html#conceptualizing-the-model"><i class="fa fa-check"></i><b>8.4.1</b> Conceptualizing the Model</a></li>
<li class="chapter" data-level="8.4.2" data-path="simoa-finhorizonex.html"><a href="simoa-finhorizonex.html#simoa:seqsampling"><i class="fa fa-check"></i><b>8.4.2</b> Sequential Sampling for Finite Horizon Simulations</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="simoa-infhorizon.html"><a href="simoa-infhorizon.html"><i class="fa fa-check"></i><b>8.5</b> Analysis of Infinite Horizon Simulations</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="simoa-infhorizon.html"><a href="simoa-infhorizon.html#simoa:infhorizon:initialbias"><i class="fa fa-check"></i><b>8.5.1</b> Assessing the Effect of Initial Conditions</a></li>
<li class="chapter" data-level="8.5.2" data-path="simoa-infhorizon.html"><a href="simoa-infhorizon.html#simoa:infhorizon:repDeletion"><i class="fa fa-check"></i><b>8.5.2</b> Performing the Method of Replication-Deletion</a></li>
<li class="chapter" data-level="8.5.3" data-path="simoa-infhorizon.html"><a href="simoa-infhorizon.html#simoa:infhorizon:batchmeans"><i class="fa fa-check"></i><b>8.5.3</b> The Method of Batch Means</a></li>
<li class="chapter" data-level="8.5.4" data-path="simoa-infhorizon.html"><a href="simoa-infhorizon.html#simoa:infhorizon:jslbatching"><i class="fa fa-check"></i><b>8.5.4</b> Performing the Method of Batch Means</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="simoa-comparingSystems.html"><a href="simoa-comparingSystems.html"><i class="fa fa-check"></i><b>8.6</b> Comparing System Configurations</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="simoa-comparingSystems.html"><a href="simoa-comparingSystems.html#simoa:comparingSystems:two"><i class="fa fa-check"></i><b>8.6.1</b> Comparing Two Systems</a></li>
<li class="chapter" data-level="8.6.2" data-path="simoa-comparingSystems.html"><a href="simoa-comparingSystems.html#simoa:comparingSystems:MCB"><i class="fa fa-check"></i><b>8.6.2</b> Multiple Comparisons</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="simoa-summary.html"><a href="simoa-summary.html"><i class="fa fa-check"></i><b>8.7</b> Summary</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="miscellaneous-utility-classes.html"><a href="miscellaneous-utility-classes.html"><i class="fa fa-check"></i><b>A</b> Miscellaneous Utility Classes</a>
<ul>
<li class="chapter" data-level="A.1" data-path="reporting.html"><a href="reporting.html"><i class="fa fa-check"></i><b>A.1</b> Reporting</a></li>
<li class="chapter" data-level="A.2" data-path="jslmath-class.html"><a href="jslmath-class.html"><i class="fa fa-check"></i><b>A.2</b> <code>JSLMath</code> Class</a></li>
<li class="chapter" data-level="A.3" data-path="the-jsl-database.html"><a href="the-jsl-database.html"><i class="fa fa-check"></i><b>A.3</b> The JSL Database</a>
<ul>
<li class="chapter" data-level="A.3.1" data-path="the-jsl-database.html"><a href="the-jsl-database.html#the-jsl-database-structure"><i class="fa fa-check"></i><b>A.3.1</b> The JSL Database Structure</a></li>
<li class="chapter" data-level="A.3.2" data-path="the-jsl-database.html"><a href="the-jsl-database.html#creating-and-using-a-default-jsl-database"><i class="fa fa-check"></i><b>A.3.2</b> Creating and Using a Default JSL Database</a></li>
<li class="chapter" data-level="A.3.3" data-path="the-jsl-database.html"><a href="the-jsl-database.html#creating-and-using-jsl-databases"><i class="fa fa-check"></i><b>A.3.3</b> Creating and Using JSL Databases</a></li>
<li class="chapter" data-level="A.3.4" data-path="the-jsl-database.html"><a href="the-jsl-database.html#querying-the-jsl-database"><i class="fa fa-check"></i><b>A.3.4</b> Querying the JSL Database</a></li>
<li class="chapter" data-level="A.3.5" data-path="the-jsl-database.html"><a href="the-jsl-database.html#additional-functionality"><i class="fa fa-check"></i><b>A.3.5</b> Additional Functionality</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="B" data-path="app-rnrv.html"><a href="app-rnrv.html"><i class="fa fa-check"></i><b>B</b> Generating Pseudo-Random Numbers and Random Variates</a>
<ul>
<li class="chapter" data-level="B.1" data-path="app-rnrv-rn.html"><a href="app-rnrv-rn.html"><i class="fa fa-check"></i><b>B.1</b> Pseudo Random Numbers</a>
<ul>
<li class="chapter" data-level="B.1.1" data-path="app-rnrv-rn.html"><a href="app-rnrv-rn.html#app:rnrv:rngs"><i class="fa fa-check"></i><b>B.1.1</b> Random Number Generators</a></li>
</ul></li>
<li class="chapter" data-level="B.2" data-path="app-rnrv-rvs.html"><a href="app-rnrv-rvs.html"><i class="fa fa-check"></i><b>B.2</b> Generating Random Variates from Distributions</a>
<ul>
<li class="chapter" data-level="B.2.1" data-path="app-rnrv-rvs.html"><a href="app-rnrv-rvs.html#inverse-transform-method"><i class="fa fa-check"></i><b>B.2.1</b> Inverse Transform Method</a></li>
<li class="chapter" data-level="B.2.2" data-path="app-rnrv-rvs.html"><a href="app-rnrv-rvs.html#convolution"><i class="fa fa-check"></i><b>B.2.2</b> Convolution</a></li>
<li class="chapter" data-level="B.2.3" data-path="app-rnrv-rvs.html"><a href="app-rnrv-rvs.html#acceptancerejection"><i class="fa fa-check"></i><b>B.2.3</b> Acceptance/Rejection</a></li>
<li class="chapter" data-level="B.2.4" data-path="app-rnrv-rvs.html"><a href="app-rnrv-rvs.html#AppRNRV:subsec:MTSRV"><i class="fa fa-check"></i><b>B.2.4</b> Mixture Distributions, Truncated Distributions, and Shifted Random Variables</a></li>
</ul></li>
<li class="chapter" data-level="B.3" data-path="summary-2.html"><a href="summary-2.html"><i class="fa fa-check"></i><b>B.3</b> Summary</a></li>
<li class="chapter" data-level="B.4" data-path="exercises-1.html"><a href="exercises-1.html"><i class="fa fa-check"></i><b>B.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="app-idm.html"><a href="app-idm.html"><i class="fa fa-check"></i><b>C</b> Probability Distribution Modeling</a>
<ul>
<li class="chapter" data-level="C.1" data-path="app-idm-sec-rvPD.html"><a href="app-idm-sec-rvPD.html"><i class="fa fa-check"></i><b>C.1</b> Random Variables and Probability Distributions</a></li>
<li class="chapter" data-level="C.2" data-path="app-idm-sec-MDD.html"><a href="app-idm-sec-MDD.html"><i class="fa fa-check"></i><b>C.2</b> Modeling with Discrete Distributions</a></li>
<li class="chapter" data-level="C.3" data-path="app-idm-sec-fitDiscrete.html"><a href="app-idm-sec-fitDiscrete.html"><i class="fa fa-check"></i><b>C.3</b> Fitting Discrete Distributions</a>
<ul>
<li class="chapter" data-level="C.3.1" data-path="app-idm-sec-fitDiscrete.html"><a href="app-idm-sec-fitDiscrete.html#AppDisFit:PoissonFit"><i class="fa fa-check"></i><b>C.3.1</b> Fitting a Poisson Distribution</a></li>
<li class="chapter" data-level="C.3.2" data-path="app-idm-sec-fitDiscrete.html"><a href="app-idm-sec-fitDiscrete.html#visualizing-the-data"><i class="fa fa-check"></i><b>C.3.2</b> Visualizing the Data</a></li>
<li class="chapter" data-level="C.3.3" data-path="app-idm-sec-fitDiscrete.html"><a href="app-idm-sec-fitDiscrete.html#estimating-the-rate-parameter-for-the-poisson-distribution"><i class="fa fa-check"></i><b>C.3.3</b> Estimating the Rate Parameter for the Poisson Distribution</a></li>
<li class="chapter" data-level="C.3.4" data-path="app-idm-sec-fitDiscrete.html"><a href="app-idm-sec-fitDiscrete.html#chi-squared-goodness-of-fit-test-for-poisson-distribution"><i class="fa fa-check"></i><b>C.3.4</b> Chi-Squared Goodness of Fit Test for Poisson Distribution</a></li>
<li class="chapter" data-level="C.3.5" data-path="app-idm-sec-fitDiscrete.html"><a href="app-idm-sec-fitDiscrete.html#subsub:chisqGOF"><i class="fa fa-check"></i><b>C.3.5</b> Chi-Squared Goodness of Fit Test</a></li>
<li class="chapter" data-level="C.3.6" data-path="app-idm-sec-fitDiscrete.html"><a href="app-idm-sec-fitDiscrete.html#using-the-fitdistrplus-r-package-on-discrete-data"><i class="fa fa-check"></i><b>C.3.6</b> Using the fitdistrplus R Package on Discrete Data</a></li>
<li class="chapter" data-level="C.3.7" data-path="app-idm-sec-fitDiscrete.html"><a href="app-idm-sec-fitDiscrete.html#fitting-a-discrete-empirical-distribution"><i class="fa fa-check"></i><b>C.3.7</b> Fitting a Discrete Empirical Distribution</a></li>
</ul></li>
<li class="chapter" data-level="C.4" data-path="app-idm-sec-MCD.html"><a href="app-idm-sec-MCD.html"><i class="fa fa-check"></i><b>C.4</b> Modeling with Continuous Distributions</a></li>
<li class="chapter" data-level="C.5" data-path="app-idm-sec-fitContinuous.html"><a href="app-idm-sec-fitContinuous.html"><i class="fa fa-check"></i><b>C.5</b> Fitting Continuous Distributions</a>
<ul>
<li class="chapter" data-level="C.5.1" data-path="app-idm-sec-fitContinuous.html"><a href="app-idm-sec-fitContinuous.html#app:idm:subsec:visualizedata"><i class="fa fa-check"></i><b>C.5.1</b> Visualizing the Data</a></li>
<li class="chapter" data-level="C.5.2" data-path="app-idm-sec-fitContinuous.html"><a href="app-idm-sec-fitContinuous.html#app:idm:subsec:statsdata"><i class="fa fa-check"></i><b>C.5.2</b> Statistically Summarize the Data</a></li>
<li class="chapter" data-level="C.5.3" data-path="app-idm-sec-fitContinuous.html"><a href="app-idm-sec-fitContinuous.html#app:idm:subsec:hypothDist"><i class="fa fa-check"></i><b>C.5.3</b> Hypothesizing and Testing a Distribution</a></li>
<li class="chapter" data-level="C.5.4" data-path="app-idm-sec-fitContinuous.html"><a href="app-idm-sec-fitContinuous.html#kolmogorov-smirnov-test"><i class="fa fa-check"></i><b>C.5.4</b> Kolmogorov-Smirnov Test</a></li>
<li class="chapter" data-level="C.5.5" data-path="app-idm-sec-fitContinuous.html"><a href="app-idm-sec-fitContinuous.html#app:idm:subsec:visFit"><i class="fa fa-check"></i><b>C.5.5</b> Visualizing the Fit</a></li>
<li class="chapter" data-level="C.5.6" data-path="app-idm-sec-fitContinuous.html"><a href="app-idm-sec-fitContinuous.html#app:idms2sb3"><i class="fa fa-check"></i><b>C.5.6</b> Using the Input Analyzer</a></li>
</ul></li>
<li class="chapter" data-level="C.6" data-path="app-distfit-testU01.html"><a href="app-distfit-testU01.html"><i class="fa fa-check"></i><b>C.6</b> Testing Uniform (0,1) Pseudo-Random Numbers</a>
<ul>
<li class="chapter" data-level="C.6.1" data-path="app-distfit-testU01.html"><a href="app-distfit-testU01.html#chi-squared-goodness-of-fit-tests-for-pseudo-random-numbers"><i class="fa fa-check"></i><b>C.6.1</b> Chi-Squared Goodness of Fit Tests for Pseudo-Random Numbers</a></li>
<li class="chapter" data-level="C.6.2" data-path="app-distfit-testU01.html"><a href="app-distfit-testU01.html#higher-dimensional-chi-squared-test"><i class="fa fa-check"></i><b>C.6.2</b> Higher Dimensional Chi-Squared Test</a></li>
<li class="chapter" data-level="C.6.3" data-path="app-distfit-testU01.html"><a href="app-distfit-testU01.html#kolmogorov-smirnov-test-for-pseudo-random-numbers"><i class="fa fa-check"></i><b>C.6.3</b> Kolmogorov-Smirnov Test for Pseudo-Random Numbers</a></li>
<li class="chapter" data-level="C.6.4" data-path="app-distfit-testU01.html"><a href="app-distfit-testU01.html#testing-for-independence-and-patterns-in-pseudo-random-numbers"><i class="fa fa-check"></i><b>C.6.4</b> Testing for Independence and Patterns in Pseudo-Random Numbers</a></li>
</ul></li>
<li class="chapter" data-level="C.7" data-path="app-distfit-idms2sb4.html"><a href="app-distfit-idms2sb4.html"><i class="fa fa-check"></i><b>C.7</b> Additional Distribution Modeling Concepts</a></li>
<li class="chapter" data-level="C.8" data-path="app-idmSummary.html"><a href="app-idmSummary.html"><i class="fa fa-check"></i><b>C.8</b> Summary</a></li>
<li class="chapter" data-level="C.9" data-path="exercises-2.html"><a href="exercises-2.html"><i class="fa fa-check"></i><b>C.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="app-qtAndInvT.html"><a href="app-qtAndInvT.html"><i class="fa fa-check"></i><b>D</b> Queueing Theory</a>
<ul>
<li class="chapter" data-level="D.1" data-path="app-qts1.html"><a href="app-qts1.html"><i class="fa fa-check"></i><b>D.1</b> Single Line Queueing Stations</a>
<ul>
<li class="chapter" data-level="D.1.1" data-path="app-qts1.html"><a href="app-qts1.html#queueing-notation"><i class="fa fa-check"></i><b>D.1.1</b> Queueing Notation</a></li>
<li class="chapter" data-level="D.1.2" data-path="app-qts1.html"><a href="app-qts1.html#littles-formula"><i class="fa fa-check"></i><b>D.1.2</b> Little’s Formula</a></li>
<li class="chapter" data-level="D.1.3" data-path="app-qts1.html"><a href="app-qts1.html#app:qts1sb1"><i class="fa fa-check"></i><b>D.1.3</b> Deriving Formulas for Markovian Single Queue Systems</a></li>
</ul></li>
<li class="chapter" data-level="D.2" data-path="app-qts1sb2.html"><a href="app-qts1sb2.html"><i class="fa fa-check"></i><b>D.2</b> Examples and Applications of Queueing Analysis</a>
<ul>
<li class="chapter" data-level="D.2.1" data-path="app-qts1sb2.html"><a href="app-qts1sb2.html#infinite-queue-examples"><i class="fa fa-check"></i><b>D.2.1</b> Infinite Queue Examples</a></li>
<li class="chapter" data-level="D.2.2" data-path="app-qts1sb2.html"><a href="app-qts1sb2.html#finite-queue-examples"><i class="fa fa-check"></i><b>D.2.2</b> Finite Queue Examples</a></li>
</ul></li>
<li class="chapter" data-level="D.3" data-path="app-qts1sb3.html"><a href="app-qts1sb3.html"><i class="fa fa-check"></i><b>D.3</b> Non-Markovian Queues and Approximations</a></li>
<li class="chapter" data-level="D.4" data-path="app-qt-sec-formulas.html"><a href="app-qt-sec-formulas.html"><i class="fa fa-check"></i><b>D.4</b> Summary of Queueing Formulas</a>
<ul>
<li class="chapter" data-level="D.4.1" data-path="app-qt-sec-formulas.html"><a href="app-qt-sec-formulas.html#mm1-queue"><i class="fa fa-check"></i><b>D.4.1</b> M/M/1 Queue</a></li>
<li class="chapter" data-level="D.4.2" data-path="app-qt-sec-formulas.html"><a href="app-qt-sec-formulas.html#mmc-queue"><i class="fa fa-check"></i><b>D.4.2</b> M/M/c Queue</a></li>
<li class="chapter" data-level="D.4.3" data-path="app-qt-sec-formulas.html"><a href="app-qt-sec-formulas.html#mmck-queue"><i class="fa fa-check"></i><b>D.4.3</b> M/M/c/k Queue</a></li>
<li class="chapter" data-level="D.4.4" data-path="app-qt-sec-formulas.html"><a href="app-qt-sec-formulas.html#mgcc-queue"><i class="fa fa-check"></i><b>D.4.4</b> M/G/c/c Queue</a></li>
<li class="chapter" data-level="D.4.5" data-path="app-qt-sec-formulas.html"><a href="app-qt-sec-formulas.html#mm1k-queue"><i class="fa fa-check"></i><b>D.4.5</b> M/M/1/k Queue</a></li>
<li class="chapter" data-level="D.4.6" data-path="app-qt-sec-formulas.html"><a href="app-qt-sec-formulas.html#mmck-queue-1"><i class="fa fa-check"></i><b>D.4.6</b> M/M/c/k Queue</a></li>
<li class="chapter" data-level="D.4.7" data-path="app-qt-sec-formulas.html"><a href="app-qt-sec-formulas.html#mm1kk-queue"><i class="fa fa-check"></i><b>D.4.7</b> M/M/1/k/k Queue</a></li>
<li class="chapter" data-level="D.4.8" data-path="app-qt-sec-formulas.html"><a href="app-qt-sec-formulas.html#mmckk-queue"><i class="fa fa-check"></i><b>D.4.8</b> M/M/c/k/k Queue</a></li>
</ul></li>
<li class="chapter" data-level="D.5" data-path="exercises-3.html"><a href="exercises-3.html"><i class="fa fa-check"></i><b>D.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>E</b> Distributions</a>
<ul>
<li class="chapter" data-level="E.1" data-path="app-DiscreteDistributions.html"><a href="app-DiscreteDistributions.html"><i class="fa fa-check"></i><b>E.1</b> Discrete Distrbutions</a></li>
<li class="chapter" data-level="E.2" data-path="app-ContinuousDistributions.html"><a href="app-ContinuousDistributions.html"><i class="fa fa-check"></i><b>E.2</b> Continuous Distrbutions</a></li>
</ul></li>
<li class="chapter" data-level="F" data-path="app-StatTables.html"><a href="app-StatTables.html"><i class="fa fa-check"></i><b>F</b> Statistical Tables</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">JSL - Java Simulation Library</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ch2:randompkg" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Random Package</h2>
<p>The concepts within L’Ecuyer et al. (2002) have been implemented within the <a href="https://rossetti.git-pages.uark.edu/JSL-Documentation/jsl/utilities/random/rng/package-summary.html"><code>jsl.utilities.random.rng</code></a> package in the JSL. A key organizing principle for the <code>random</code> package is the use of Java interfaces. A Java interface allows classes to act like other classes. It is a mechanism by which a class can promise to have
certain behaviors (i.e. methods). The JSL utilizes interfaces to
separate random number generation concepts from stream control concepts.</p>
<div class="figure"><span id="fig:RNStreamInterfaces"></span>
<img src="figures/RNStreamInterfaces.png" alt="Random Number Stream Interfaces"  />
<p class="caption">
Figure 2.1: Random Number Stream Interfaces
</p>
</div>
<p>Figure <a href="ch2-randompkg.html#fig:RNStreamInterfaces">2.1</a> shows the important interfaces within the
<code>jsl.utilities.random.rng</code> package. The <code>RandU01Ifc</code> defines the methods for
getting the next pseudo-random number and the previous pseudo-random
number via <code>randU01()</code> and <code>getPrevU01()</code>. The <code>randInt(int i, int j)</code> method can be used to generate
a random integer uniformly over the range from <span class="math inline">\(i\)</span> to <span class="math inline">\(j\)</span>. The methods <code>getAsDouble()</code> and
<code>asDoubleStream()</code> permit the random number stream to act as a Java stream
as defined within the <a href="https://docs.oracle.com/javase/8/docs/api/?java/util/stream/Stream.html">Java Stream API</a>.
The <code>GetAntitheticStreamIfc</code> and <code>RNStreamNewInstanceIfc</code> interfaces allow a new object
instance to be created from the stream. In the case of the <code>GetAntitheticStreamIfc</code> interface
the created stream will produce antithetic variates from the stream. If <span class="math inline">\(U\)</span> is a pseudo-random number,
then <span class="math inline">\(1-U\)</span> is the antithetic variate of <span class="math inline">\(U\)</span>.</p>
<p>The <code>RNStreamControlIfc</code> defines methods for controlling the underlying stream of pseudo-random numbers.</p>
<ul>
<li><code>resetStartStream()</code> - positions the random number generator at the
beginning of its stream. This is the same location in the stream as
assigned when the random number generator was created and
initialized.</li>
<li><code>resetStartSubstream()</code> - resets the position of the random number
generator to the start of the current substream. If the random
number generator has advanced into the substream, then this method
resets to the beginning of the substream.</li>
<li><code>advanceToNextSubStream()</code> - positions the random number generator at
the beginning of its next substream. This method move through the
current substream and positions the generator at the beginning of
the next substream.</li>
<li><code>setAntitheticOption(boolean flag)</code> - if the flag is true, the
generator should start producing antithetic variates with the next
call to <code>randU01()</code>. If the flag is false, the generator should stop
producing antithetic variates.</li>
<li><code>getAntitheticOption()</code> - returns whether the antithetic option has
been set.</li>
</ul>
<p>The <code>RNStreamIfc</code> interface assumes that the underlying pseudo-random number generator can produce
multiple streams that can be further divided into substreams. The reset
methods allow the user to move within the streams. Classes that
implement the <code>RNStreamControlIfc</code> can manipulate the streams in a
well-defined manner.</p>
<div class="figure"><span id="fig:RNStreamProvider"></span>
<img src="figures/RNStreamProvider.png" alt="RNStreamProviderIfc Interface"  />
<p class="caption">
Figure 2.2: RNStreamProviderIfc Interface
</p>
</div>
<p>To create an concrete instance of a stream, we must have a random number stream provider. This
functionality is defined by the <code>RNStreamProviderIfc</code> interface and its concrete implementation,
<code>RNStreamProvider</code>. Figure <a href="ch2-randompkg.html#fig:RNStreamProvider">2.2</a> illustrates the functionality available for
creating random number streams. This interface conceptualizes the creation of random number streams
as a process of making a sequence of streams numbered 1, 2, 3, …</p>
<p>A random number stream provider must define a default stream, which can be retrieved via the
<code>defaultRNStream()</code> method. For the JSL, the default stream is the first
stream created and is label with the sequence number 1. The sequence number of a stream
can be used to retrieve a particular stream from the provider. The following methods
allow for creation and access to streams.</p>
<ul>
<li><code>nextRNStream()</code> - returns the next random number stream associated with the provider. Each call
to <code>nextRNStream()</code> makes a new stream in the sequence of streams.</li>
<li><code>lastRNStreamNumber()</code> - returns the number of the stream that was last made. This indicates how
many streams have been made. If <span class="math inline">\(0\)</span> is returned, then no streams have been made by the provider.</li>
<li><code>rnStream(int k)</code> - returns the <span class="math inline">\(k^{th}\)</span> stream. If <span class="math inline">\(k\)</span> is greater than <code>lastRNStreamNumber()</code> then <code>lastRNStreamNumber()</code> is advanced according to the additional number of streams by creating any intermediate streams. For example, if <code>lastRNStreamNumber()</code> = 10 and k = 15, then streams 11, 12, 13, 14, 15 are assumed provided and stream 15 is returned and <code>lastRNStreamNumber()</code> now equals 15. If <span class="math inline">\(k\)</span> is less than or equal to <code>lastRNStreamNumber()</code>, then no new streams are created and <code>lastRNStreamNumber()</code>stays at its current value and the <span class="math inline">\(k^{th}\)</span> stream is returned.</li>
<li><code>getStreamNumber(RNStreamIfc stream)</code> - returns the stream number of the instance of a stream.</li>
<li><code>advanceStreamMechanism(int n)</code> - advances the underlying stream mechanism by the specified number of streams, without actually creating the streams. The value of <code>lastRNStreamNumber()</code> remains the same after advancing through
the streams. In other words, this method should act as if <code>nextRNStream()</code> was not called but advance the underlying stream mechanism as if <span class="math inline">\(n\)</span> streams had been provided.</li>
<li><code>resetRNStreamSequence()</code> - Causes the random number stream provider to act as if has never created any streams. Thus,
the next call to <code>nextRNStream()</code> will return the <span class="math inline">\(1^{st}\)</span> stream.</li>
</ul>
<p>The random number stream provider also facilitates the control of all streams that have been created. This functionality is similar to how the position within an individual stream can be manipulated, except the provider performs the functionality on all streams that it has created. The following methods perform this function.</p>
<ul>
<li><code>resetAllStreamsToStart()</code> - resets all created streams to the start of their stream.</li>
<li><code>resetAllStreamsToStartOfCurrentSubStream()</code> - resets all created streams to the start of their current sub-stream.</li>
<li><code>advanceAllStreamsToNextSubstream()</code> - advances all created streams to the start of their next sub-stream.</li>
<li><code>setAllStreamsAntitheticOption(boolean option)</code> - changes all created streams to have their antithetic option either off = false or on = true.</li>
</ul>
<p>Many random number generators require the specification of a seed to start the generated sequence. Even though the generator within the JSL use seeds, there really is not any need to utilize the seeds because of the well defined methods for moving within the streams. Now, let’s illustrate how to create and manipulate streams.</p>
<div id="ch2:creatingStreams" class="section level3" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Creating and Using Streams</h3>
<p>To create a random number stream, the user must utilize an instance of <code>RNStreamProvider</code>. This process is illustrated in in the following code. This code creates two instances of <code>RNStreamProvider</code> and gets the first stream from each instance. The instances of <code>RNStreamProvider</code> use the exact same underlying default seeds. Thus, they produce <em>exactly the same</em> sequence of streams.</p>

<div class="sourceCode" id="cb1"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb1-1"><a href="ch2-randompkg.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">// make a provider for creating streams</span></span>
<span id="cb1-2"><a href="ch2-randompkg.html#cb1-2" aria-hidden="true" tabindex="-1"></a>RNStreamProvider p1 <span class="op">=</span> <span class="kw">new</span> <span class="fu">RNStreamProvider</span><span class="op">();</span></span>
<span id="cb1-3"><a href="ch2-randompkg.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">// get the first stream from the provider</span></span>
<span id="cb1-4"><a href="ch2-randompkg.html#cb1-4" aria-hidden="true" tabindex="-1"></a>RNStreamIfc p1s1 <span class="op">=</span> p1<span class="op">.</span><span class="fu">nextRNStream</span><span class="op">();</span></span>
<span id="cb1-5"><a href="ch2-randompkg.html#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">// make another provider, the providers are identical</span></span>
<span id="cb1-6"><a href="ch2-randompkg.html#cb1-6" aria-hidden="true" tabindex="-1"></a>RNStreamProvider p2 <span class="op">=</span> <span class="kw">new</span> <span class="fu">RNStreamProvider</span><span class="op">();</span></span>
<span id="cb1-7"><a href="ch2-randompkg.html#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co">// thus the first streams returned are identical</span></span>
<span id="cb1-8"><a href="ch2-randompkg.html#cb1-8" aria-hidden="true" tabindex="-1"></a>RNStreamIfc p2s1 <span class="op">=</span> p2<span class="op">.</span><span class="fu">nextRNStream</span><span class="op">();</span></span>
<span id="cb1-9"><a href="ch2-randompkg.html#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">printf</span><span class="op">(</span><span class="st">&quot;</span><span class="sc">%3s</span><span class="st"> </span><span class="sc">%15s</span><span class="st"> </span><span class="sc">%15s</span><span class="st"> </span><span class="sc">%n</span><span class="st">&quot;</span><span class="op">,</span> <span class="st">&quot;n&quot;</span><span class="op">,</span> <span class="st">&quot;f1s1&quot;</span><span class="op">,</span> <span class="st">&quot;f2s2&quot;</span><span class="op">);</span></span>
<span id="cb1-10"><a href="ch2-randompkg.html#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">5</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb1-11"><a href="ch2-randompkg.html#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">printf</span><span class="op">(</span><span class="st">&quot;</span><span class="sc">%3d</span><span class="st"> </span><span class="sc">%15f</span><span class="st"> </span><span class="sc">%15f</span><span class="st"> </span><span class="sc">%n</span><span class="st">&quot;</span><span class="op">,</span> i<span class="op">,</span> p1s1<span class="op">.</span><span class="fu">randU01</span><span class="op">(),</span> p2s1<span class="op">.</span><span class="fu">randU01</span><span class="op">());</span></span>
<span id="cb1-12"><a href="ch2-randompkg.html#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Thus, in the following code output, the randomly generated values are exactly the same for the two streams.</p>
<pre><code>  n            p1s1            p2s2 
  1        0.728510        0.728510 
  2        0.965587        0.965587 
  3        0.996184        0.996184 
  4        0.114988        0.114988 
  5        0.973145        0.973145 </code></pre>
<p>There is is really very little need for the general programmer to create
a <code>RNStreamProvider</code> because the JSL supplies default provider that can be used to provide a
virtually infinite number of streams. The need for directly accessing the functionality of <code>RNStreamProvider</code> is
for very fine control of stream creation in such situations like running
code on different computers in parallel. While the providers produce the
same streams, you can force one provider to be different from another
provider by manipulating the seeds. In addition, the
provider can control all streams that it produces. So, unless you are
trying to do some advanced work that involves coordinating multiple streams, you should not need to create multiple instances of <code>RNStreamProvider</code>.</p>
<p>Because the most common use case is to just have a single provider of streams, the JSL facilitates this through the <code>JSLRandom</code> class. The <code>JSLRandom</code> class has a wide range of static methods to facilitate random variate generation.
The most important methods include:</p>
<ul>
<li><code>nextRNStream()</code> - calls the underlying default <code>RNStreamProvider</code> to create a new random number stream</li>
<li><code>rnStream(int k)</code> - returns the <span class="math inline">\(k^{th}\)</span> stream from the default <code>RNStreamProvider</code></li>
<li><code>getDefaultRNStream()</code> - calls the underlying default <code>RNStreamProvider</code> for its default stream</li>
</ul>
<p>In the following code example, these methods are used to create streams that are used to generate random numbers.
The first line of the code uses the static method <code>getDefaultRNStream()</code> of <code>JSLRandom</code> to get the default stream and
then generates three random numbers. The stream is then advanced and three new random numbers are generated. Then,
the stream is reset to its starting (initial seed) and it then repeats the original values. Finally, the a new stream
is created via <code>JSLRandom.nextRNStream()</code> and then used to generate new random numbers. From a conceptual standpoint,
each stream contains an independent sequence of random numbers from any other stream (unless of course they are made from different providers). They are conceptually infinite and independent due to their enormous periods.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb3-1"><a href="ch2-randompkg.html#cb3-1" aria-hidden="true" tabindex="-1"></a>RNStreamIfc s1 <span class="op">=</span> JSLRandom<span class="op">.</span><span class="fu">getDefaultRNStream</span><span class="op">();</span></span>
<span id="cb3-2"><a href="ch2-randompkg.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Default stream is stream 1&quot;</span><span class="op">);</span></span>
<span id="cb3-3"><a href="ch2-randompkg.html#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Generate 3 random numbers&quot;</span><span class="op">);</span></span>
<span id="cb3-4"><a href="ch2-randompkg.html#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> <span class="dv">3</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb3-5"><a href="ch2-randompkg.html#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;u = &quot;</span> <span class="op">+</span> s1<span class="op">.</span><span class="fu">randU01</span><span class="op">());</span></span>
<span id="cb3-6"><a href="ch2-randompkg.html#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb3-7"><a href="ch2-randompkg.html#cb3-7" aria-hidden="true" tabindex="-1"></a>s1<span class="op">.</span><span class="fu">advanceToNextSubstream</span><span class="op">();</span></span>
<span id="cb3-8"><a href="ch2-randompkg.html#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Advance to next sub-stream and get some more random numbers&quot;</span><span class="op">);</span></span>
<span id="cb3-9"><a href="ch2-randompkg.html#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> <span class="dv">3</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb3-10"><a href="ch2-randompkg.html#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;u = &quot;</span> <span class="op">+</span> s1<span class="op">.</span><span class="fu">randU01</span><span class="op">());</span></span>
<span id="cb3-11"><a href="ch2-randompkg.html#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb3-12"><a href="ch2-randompkg.html#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Notice that they are different from the first 3.&quot;</span><span class="op">);</span></span>
<span id="cb3-13"><a href="ch2-randompkg.html#cb3-13" aria-hidden="true" tabindex="-1"></a>s1<span class="op">.</span><span class="fu">resetStartStream</span><span class="op">();</span></span>
<span id="cb3-14"><a href="ch2-randompkg.html#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Reset the stream to the beginning of its sequence&quot;</span><span class="op">);</span></span>
<span id="cb3-15"><a href="ch2-randompkg.html#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> <span class="dv">3</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb3-16"><a href="ch2-randompkg.html#cb3-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;u = &quot;</span> <span class="op">+</span> s1<span class="op">.</span><span class="fu">randU01</span><span class="op">());</span></span>
<span id="cb3-17"><a href="ch2-randompkg.html#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb3-18"><a href="ch2-randompkg.html#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Notice that they are the same as the first 3.&quot;</span><span class="op">);</span></span>
<span id="cb3-19"><a href="ch2-randompkg.html#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Get another random number stream&quot;</span><span class="op">);</span></span>
<span id="cb3-20"><a href="ch2-randompkg.html#cb3-20" aria-hidden="true" tabindex="-1"></a>RNStreamIfc s2 <span class="op">=</span> JSLRandom<span class="op">.</span><span class="fu">nextRNStream</span><span class="op">();</span></span>
<span id="cb3-21"><a href="ch2-randompkg.html#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;2nd stream&quot;</span><span class="op">);</span></span>
<span id="cb3-22"><a href="ch2-randompkg.html#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> <span class="dv">3</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb3-23"><a href="ch2-randompkg.html#cb3-23" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;u = &quot;</span> <span class="op">+</span> s2<span class="op">.</span><span class="fu">randU01</span><span class="op">());</span></span>
<span id="cb3-24"><a href="ch2-randompkg.html#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb3-25"><a href="ch2-randompkg.html#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Notice that they are different from the first 3.&quot;</span><span class="op">);</span></span></code></pre></div>
<p>The resulting output from this code is as follows. Again, the methods of the <code>RNStreamControlIfc</code> interface that permit movement within a stream are extremely useful for controlling the randomness associated with a simulation.</p>
<pre><code>Default stream is stream 1
Generate 3 random numbers
u = 0.12701112204657714
u = 0.3185275653967945
u = 0.3091860155832701
Advance to next sub-stream and get some more random numbers
u = 0.07939898979733463
u = 0.4803395047575741
u = 0.8583222470551328
Notice that they are different from the first 3.
Reset the stream to the beginning of its sequence
u = 0.12701112204657714
u = 0.3185275653967945
u = 0.3091860155832701
Notice that they are the same as the first 3.
Get another random number stream
2nd stream
u = 0.7285097861965271
u = 0.9655872822837334
u = 0.9961841304801171
Notice that they are different from the first 3.</code></pre>
</div>
<div id="ch2:crn" class="section level3" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Common Random Numbers</h3>
<p>Common random numbers (CRN) is a Monte Carlo method that has different experiments utilize the same random numbers. CRN is a variance reduction technique that allows the experimenter to block out the effect of the random numbers used in the experiment. To facilitate the use of common random numbers the JSL has the aforementioned stream control mechanism. One way to implement common random numbers is to use two instances of <code>RNStreamProvider</code> as was previously illustrated. In that case, the two providers produce the same sequence of streams and thus those streams can be used on the different experiments. An alternative method that does not require the use of two providers is to create a copy of the stream directly from the stream instance. The following code clones the stream instance.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb5-1"><a href="ch2-randompkg.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">// get the default stream</span></span>
<span id="cb5-2"><a href="ch2-randompkg.html#cb5-2" aria-hidden="true" tabindex="-1"></a>RNStreamIfc s <span class="op">=</span> JSLRandom<span class="op">.</span><span class="fu">getDefaultRNStream</span><span class="op">();</span></span>
<span id="cb5-3"><a href="ch2-randompkg.html#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">// make a clone of the stream</span></span>
<span id="cb5-4"><a href="ch2-randompkg.html#cb5-4" aria-hidden="true" tabindex="-1"></a>RNStreamIfc clone <span class="op">=</span> s<span class="op">.</span><span class="fu">newInstance</span><span class="op">();</span></span>
<span id="cb5-5"><a href="ch2-randompkg.html#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">printf</span><span class="op">(</span><span class="st">&quot;</span><span class="sc">%3s</span><span class="st"> </span><span class="sc">%15s</span><span class="st"> </span><span class="sc">%15s</span><span class="st"> </span><span class="sc">%n</span><span class="st">&quot;</span><span class="op">,</span> <span class="st">&quot;n&quot;</span><span class="op">,</span> <span class="st">&quot;U&quot;</span><span class="op">,</span> <span class="st">&quot;U again&quot;</span><span class="op">);</span></span>
<span id="cb5-6"><a href="ch2-randompkg.html#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">3</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb5-7"><a href="ch2-randompkg.html#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">printf</span><span class="op">(</span><span class="st">&quot;</span><span class="sc">%3d</span><span class="st"> </span><span class="sc">%15f</span><span class="st"> </span><span class="sc">%15f</span><span class="st"> </span><span class="sc">%n</span><span class="st">&quot;</span><span class="op">,</span> i<span class="op">+</span><span class="dv">1</span><span class="op">,</span> s<span class="op">.</span><span class="fu">randU01</span><span class="op">(),</span> clone<span class="op">.</span><span class="fu">randU01</span><span class="op">());</span></span>
<span id="cb5-8"><a href="ch2-randompkg.html#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Since the instances have the same underlying state, they produce the same random numbers. Please note that the cloned stream instance is not produced by the underlying <code>RNStreamProvider</code> and thus it is not part of the set of streams managed or controlled by the provider.</p>
<pre><code>  n               U         U again 
  1        0.127011        0.127011 
  2        0.318528        0.318528 
  3        0.309186        0.309186 </code></pre>
<p>An alternative method is to just use the <code>resetStartStream()</code> method of the stream to reset the stream to the desired location in its sequence and then reproduce the random numbers. This is illustrated in the following code.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb7-1"><a href="ch2-randompkg.html#cb7-1" aria-hidden="true" tabindex="-1"></a>RNStreamIfc s <span class="op">=</span> JSLRandom<span class="op">.</span><span class="fu">getDefaultRNStream</span><span class="op">();</span></span>
<span id="cb7-2"><a href="ch2-randompkg.html#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co">// generate regular</span></span>
<span id="cb7-3"><a href="ch2-randompkg.html#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">printf</span><span class="op">(</span><span class="st">&quot;</span><span class="sc">%3s</span><span class="st"> </span><span class="sc">%15s</span><span class="st"> </span><span class="sc">%n</span><span class="st">&quot;</span><span class="op">,</span> <span class="st">&quot;n&quot;</span><span class="op">,</span> <span class="st">&quot;U&quot;</span><span class="op">);</span></span>
<span id="cb7-4"><a href="ch2-randompkg.html#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">3</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb7-5"><a href="ch2-randompkg.html#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">double</span> u <span class="op">=</span> s<span class="op">.</span><span class="fu">randU01</span><span class="op">();</span></span>
<span id="cb7-6"><a href="ch2-randompkg.html#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">printf</span><span class="op">(</span><span class="st">&quot;</span><span class="sc">%3d</span><span class="st"> </span><span class="sc">%15f</span><span class="st"> </span><span class="sc">%n</span><span class="st">&quot;</span><span class="op">,</span> i<span class="op">+</span><span class="dv">1</span><span class="op">,</span> u<span class="op">);</span></span>
<span id="cb7-7"><a href="ch2-randompkg.html#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb7-8"><a href="ch2-randompkg.html#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co">// reset the stream and generate again</span></span>
<span id="cb7-9"><a href="ch2-randompkg.html#cb7-9" aria-hidden="true" tabindex="-1"></a>s<span class="op">.</span><span class="fu">resetStartStream</span><span class="op">();</span></span>
<span id="cb7-10"><a href="ch2-randompkg.html#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">();</span></span>
<span id="cb7-11"><a href="ch2-randompkg.html#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">printf</span><span class="op">(</span><span class="st">&quot;</span><span class="sc">%3s</span><span class="st"> </span><span class="sc">%15s</span><span class="st"> </span><span class="sc">%n</span><span class="st">&quot;</span><span class="op">,</span> <span class="st">&quot;n&quot;</span><span class="op">,</span> <span class="st">&quot;U again&quot;</span><span class="op">);</span></span>
<span id="cb7-12"><a href="ch2-randompkg.html#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">3</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb7-13"><a href="ch2-randompkg.html#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">double</span> u <span class="op">=</span> s<span class="op">.</span><span class="fu">randU01</span><span class="op">();</span></span>
<span id="cb7-14"><a href="ch2-randompkg.html#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">printf</span><span class="op">(</span><span class="st">&quot;</span><span class="sc">%3d</span><span class="st"> </span><span class="sc">%15f</span><span class="st"> </span><span class="sc">%n</span><span class="st">&quot;</span><span class="op">,</span> i<span class="op">+</span><span class="dv">1</span><span class="op">,</span> u<span class="op">);</span></span>
<span id="cb7-15"><a href="ch2-randompkg.html#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Notice that the generated numbers are the same.</p>
<pre><code>  n               U 
  1        0.127011 
  2        0.318528 
  3        0.309186 

  n         U again 
  1        0.127011 
  2        0.318528 
  3        0.309186 </code></pre>
<p>Thus, a experiment can be executed, then the random numbers reset to the desired location. Then, by changing the experimental conditions and re-running the simulation, the same random numbers are used. If many streams are used, then by accessing the <code>RNStreamProvider</code> you can reset all of the controlled streams with one call and then perform the next experiment.</p>
</div>
<div id="ch2:antitheticStreams" class="section level3" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> Creating and Using Antithetic Streams</h3>
<p>Recall that if a pseudo-random number is called <span class="math inline">\(U\)</span> then its antithetic value is <span class="math inline">\(1-U\)</span>. There are a number of methods to access antithetic values. The simplest is to create an antithetic instance from a given stream. This is illustrated is in the following code. Please note that the antithetic stream instance is not produced by the underlying <code>RNStreamProvider</code> and thus it is not part of the set of streams managed or controlled by the provider. The new instance process directly creates the new stream based on the current stream so that it has the same underling state and it is set to produce antithetic values.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb9-1"><a href="ch2-randompkg.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">// get the default stream</span></span>
<span id="cb9-2"><a href="ch2-randompkg.html#cb9-2" aria-hidden="true" tabindex="-1"></a>RNStreamIfc s <span class="op">=</span> JSLRandom<span class="op">.</span><span class="fu">getDefaultRNStream</span><span class="op">();</span></span>
<span id="cb9-3"><a href="ch2-randompkg.html#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co">// make its antithetic version</span></span>
<span id="cb9-4"><a href="ch2-randompkg.html#cb9-4" aria-hidden="true" tabindex="-1"></a>RNStreamIfc as <span class="op">=</span> s<span class="op">.</span><span class="fu">newAntitheticInstance</span><span class="op">();</span></span>
<span id="cb9-5"><a href="ch2-randompkg.html#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">printf</span><span class="op">(</span><span class="st">&quot;</span><span class="sc">%3s</span><span class="st"> </span><span class="sc">%15s</span><span class="st"> </span><span class="sc">%15s</span><span class="st"> </span><span class="sc">%15s</span><span class="st"> </span><span class="sc">%n</span><span class="st">&quot;</span><span class="op">,</span> <span class="st">&quot;n&quot;</span><span class="op">,</span> <span class="st">&quot;U&quot;</span><span class="op">,</span> <span class="st">&quot;1-U&quot;</span><span class="op">,</span> <span class="st">&quot;sum&quot;</span><span class="op">);</span></span>
<span id="cb9-6"><a href="ch2-randompkg.html#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">5</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb9-7"><a href="ch2-randompkg.html#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">double</span> u <span class="op">=</span> s<span class="op">.</span><span class="fu">randU01</span><span class="op">();</span></span>
<span id="cb9-8"><a href="ch2-randompkg.html#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">double</span> au <span class="op">=</span> as<span class="op">.</span><span class="fu">randU01</span><span class="op">();</span></span>
<span id="cb9-9"><a href="ch2-randompkg.html#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">printf</span><span class="op">(</span><span class="st">&quot;</span><span class="sc">%3d</span><span class="st"> </span><span class="sc">%15f</span><span class="st"> </span><span class="sc">%15f</span><span class="st"> </span><span class="sc">%15f</span><span class="st"> </span><span class="sc">%n</span><span class="st">&quot;</span><span class="op">,</span> i<span class="op">+</span><span class="dv">1</span><span class="op">,</span> u<span class="op">,</span> au<span class="op">,</span> <span class="op">(</span>u<span class="op">+</span>au<span class="op">));</span></span>
<span id="cb9-10"><a href="ch2-randompkg.html#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Notice that the generated values sum to 1.0.</p>
<pre><code>  n               U             1-U             sum 
  1        0.127011        0.872989        1.000000 
  2        0.318528        0.681472        1.000000 
  3        0.309186        0.690814        1.000000 
  4        0.825847        0.174153        1.000000 
  5        0.221630        0.778370        1.000000 </code></pre>
<p>An alternate method that does not require the creation of another stream involves using the <code>resetStartStream()</code> and <code>setAntitheticOption(boolean flag)</code> methods of the current stream. If you have a stream, you can use the <code>setAntitheticOption(boolean flag)</code> to cause the stream to start producing antithetic values. If you use the <code>resetStartStream()</code> method and then set the antithetic option to true, the stream will be set to its initial starting point and then produce antithetic values.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb11-1"><a href="ch2-randompkg.html#cb11-1" aria-hidden="true" tabindex="-1"></a>RNStreamIfc s <span class="op">=</span> JSLRandom<span class="op">.</span><span class="fu">getDefaultRNStream</span><span class="op">();</span></span>
<span id="cb11-2"><a href="ch2-randompkg.html#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co">// generate regular</span></span>
<span id="cb11-3"><a href="ch2-randompkg.html#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">printf</span><span class="op">(</span><span class="st">&quot;</span><span class="sc">%3s</span><span class="st"> </span><span class="sc">%15s</span><span class="st"> </span><span class="sc">%n</span><span class="st">&quot;</span><span class="op">,</span> <span class="st">&quot;n&quot;</span><span class="op">,</span> <span class="st">&quot;U&quot;</span><span class="op">);</span></span>
<span id="cb11-4"><a href="ch2-randompkg.html#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">5</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb11-5"><a href="ch2-randompkg.html#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">double</span> u <span class="op">=</span> s<span class="op">.</span><span class="fu">randU01</span><span class="op">();</span></span>
<span id="cb11-6"><a href="ch2-randompkg.html#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">printf</span><span class="op">(</span><span class="st">&quot;</span><span class="sc">%3d</span><span class="st"> </span><span class="sc">%15f</span><span class="st"> </span><span class="sc">%n</span><span class="st">&quot;</span><span class="op">,</span> i<span class="op">+</span><span class="dv">1</span><span class="op">,</span> u<span class="op">);</span></span>
<span id="cb11-7"><a href="ch2-randompkg.html#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb11-8"><a href="ch2-randompkg.html#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co">// generate antithetic</span></span>
<span id="cb11-9"><a href="ch2-randompkg.html#cb11-9" aria-hidden="true" tabindex="-1"></a>s<span class="op">.</span><span class="fu">resetStartStream</span><span class="op">();</span></span>
<span id="cb11-10"><a href="ch2-randompkg.html#cb11-10" aria-hidden="true" tabindex="-1"></a>s<span class="op">.</span><span class="fu">setAntitheticOption</span><span class="op">(</span><span class="kw">true</span><span class="op">);</span></span>
<span id="cb11-11"><a href="ch2-randompkg.html#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">();</span></span>
<span id="cb11-12"><a href="ch2-randompkg.html#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">printf</span><span class="op">(</span><span class="st">&quot;</span><span class="sc">%3s</span><span class="st"> </span><span class="sc">%15s</span><span class="st"> </span><span class="sc">%n</span><span class="st">&quot;</span><span class="op">,</span> <span class="st">&quot;n&quot;</span><span class="op">,</span> <span class="st">&quot;1-U&quot;</span><span class="op">);</span></span>
<span id="cb11-13"><a href="ch2-randompkg.html#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">5</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb11-14"><a href="ch2-randompkg.html#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">double</span> u <span class="op">=</span> s<span class="op">.</span><span class="fu">randU01</span><span class="op">();</span></span>
<span id="cb11-15"><a href="ch2-randompkg.html#cb11-15" aria-hidden="true" tabindex="-1"></a>    <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">printf</span><span class="op">(</span><span class="st">&quot;</span><span class="sc">%3d</span><span class="st"> </span><span class="sc">%15f</span><span class="st"> </span><span class="sc">%n</span><span class="st">&quot;</span><span class="op">,</span> i<span class="op">+</span><span class="dv">1</span><span class="op">,</span> u<span class="op">);</span></span>
<span id="cb11-16"><a href="ch2-randompkg.html#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Notice that the second set of random numbers is the complement of the first set in this output. Of course, you can also create multiple instances of <code>RNStreamProvider</code>, and then create streams and set one of the streams to produce antithetic values.</p>
<pre><code>  n               U 
  1        0.127011 
  2        0.318528 
  3        0.309186 
  4        0.825847 
  5        0.221630
  
  n             1-U 
  1        0.872989 
  2        0.681472 
  3        0.690814 
  4        0.174153 
  5        0.778370</code></pre>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ch2-generator.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ch2-FAQ.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["JSLBook.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
